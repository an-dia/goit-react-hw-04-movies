(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{16:function(e,t,n){e.exports={List:"Navigation_List__2wV9m",Item:"Navigation_Item__33-j6",LinkBase:"Navigation_LinkBase__3coiy",LinkActive:"Navigation_LinkActive__IrcpC"}},44:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(19),s=n.n(i),o=(n(43),n(44),n(2)),u=n(21),l=(n(45),n(4)),h=n.n(l),j=n(14),d=n(5),p=n(6),b=n(8),v=n(7),m=n(15),O=n.n(m),f=n(13),x=Object(o.f)((function(e){var t=e.movies,n=e.match,r=e.location;return console.log("match",n),Object(a.jsx)("ul",{children:t.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(f.b,{to:{pathname:"".concat(n.url,"movies/").concat(e.id),state:{from:r}},children:e.title?e.title:e.name})},e.id)}))})})),g=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://api.themoviedb.org/3/trending/all/day?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc");case 2:t=e.sent,this.setState({movies:t.data.results});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Trending Today"}),Object(a.jsx)(x,{movies:e})]})}}]),n}(r.Component),y=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleQueryChange=function(t){console.log(t.currentTarget.value),e.setState({query:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){var n=e.state.query;if(t.preventDefault(),""===n.trim())return u.b.dark("Please, enter the title of the movie!");e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(p.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("input",{type:"text",name:"query",value:e,onChange:this.handleQueryChange}),Object(a.jsx)("button",{type:"submit",children:"Search"})]})}}]),n}(r.Component),w=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(j.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("prev",t.query),console.log("next",this.props.query);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("p",{children:this.props.query})})}}]),n}(r.Component),k=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:[]},e.handleSubmit=function(t){e.setState({query:t})},e}return Object(p.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(y,{onSubmit:this.handleSubmit}),Object(a.jsx)(w,{query:this.state.query})]})}}]),n}(r.Component),_=n(36),S=n(20),C="/",q="/movies",A="/movies/:movieId",I=n.p+"static/media/cat-cry.1752189b.jpg",L=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cast:[]},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,O.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc&language=en-US"));case 3:n=e.sent,this.setState({cast:n.data.cast});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.cast;return console.log(e),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{children:e.map((function(t){var n,r=t.id,c=t.name,i=t.character,s=t.profile_path;return Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:null!==(n="https://image.tmdb.org/t/p/w300".concat(s))&&void 0!==n?n:I,alt:e.name,width:"150"}),Object(a.jsxs)("p",{children:["Actor name: ",c]}),Object(a.jsxs)("p",{children:["Character: ",i]})]},r)}))})})}}]),n}(r.Component);L.defaultProps={defaultImg:I};var N=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reviews:[]},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,O.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc&language=en-US&page=1"));case 3:n=e.sent,this.setState({reviews:n.data.results});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return Object(a.jsx)(a.Fragment,{children:e.length>0?Object(a.jsx)("ul",{children:e.map((function(e){var t=e.author,n=e.content,r=e.id;return Object(a.jsxs)("li",{children:[Object(a.jsxs)("h2",{children:["Author: ",t]}),Object(a.jsx)("p",{children:n})]},r)}))}):Object(a.jsx)("p",{children:"We don't have any reviews for this movie"})})}}]),n}(r.Component),B=n(37),D=function(e){var t,n=e.poster_path,r=e.title,c=e.name,i=e.vote_average,s=e.overview,o=e.genres;return Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:null!==(t="".concat("https://image.tmdb.org/t/p/w300").concat(n))&&void 0!==t?t:I,alt:r||c,width:"300"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:r||c}),Object(a.jsx)("h2",{children:"User Score:"}),Object(a.jsxs)("p",{children:[10*i,"%"]}),Object(a.jsx)("h3",{children:"Overview"}),Object(a.jsx)("p",{children:s}),Object(a.jsx)("h3",{children:"Genres"})]}),Object(a.jsx)("ul",{children:o.map((function(e){var t=e.id,n=e.name;return Object(a.jsx)("li",{children:n},t)}))})]})},F=function(e){Object(b.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state=Object(S.a)({id:"",poster_path:null,title:null,name:null,vote_average:null,overview:null,genres:[]},"id",null),e.handleGoBack=function(){var t,n=e.props,a=n.location;n.history.push((null===a||void 0===a||null===(t=a.state)||void 0===t?void 0:t.from)||C)},e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,O.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc&language=en-US"));case 3:n=e.sent,this.setState(Object(_.a)({},n.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.poster_path,n=e.title,r=e.name,c=e.vote_average,i=e.overview,s=e.genres;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("button",{type:"button",onClick:this.handleGoBack,children:[Object(a.jsx)(B.a,{style:{marginRight:8}}),"Go back"]}),Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:Object(a.jsx)(D,{poster_path:t,title:n,name:r,vote_average:c,overview:i,genres:s})})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Additional information"}),Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(f.c,{to:"".concat(this.props.match.url,"/cast "),children:"Cast"})," "]}),Object(a.jsxs)("li",{children:[" ",Object(a.jsx)(f.c,{to:"".concat(this.props.match.url,"/reviews "),children:"Reviews"})," "]})]}),Object(a.jsx)(o.a,{path:"".concat(this.props.match.path,"/cast "),component:L}),Object(a.jsx)(o.a,{path:"/movies/:movieId/reviews",component:N})]})]})}}]),n}(r.Component),M=function(){return Object(a.jsx)("h1",{children:"404 - page not found"})},U=n(16),G=n.n(U),T=function(){return Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{className:G.a.List,children:[Object(a.jsx)("li",{className:G.a.Item,children:Object(a.jsx)(f.c,{exact:!0,className:G.a.LinkBase,activeClassName:G.a.LinkActive,to:C,children:"Home"})}),Object(a.jsx)("li",{className:G.a.Item,children:Object(a.jsx)(f.c,{className:G.a.LinkBase,activeClassName:G.a.LinkActive,to:q,children:"Authors"})})]})})},J=function(){return Object(a.jsx)("header",{children:Object(a.jsx)(T,{})})},P=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J,{}),Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{exact:!0,path:C,component:g}),Object(a.jsx)(o.a,{path:A,component:F}),Object(a.jsx)(o.a,{path:q,component:k}),Object(a.jsx)(o.a,{component:M})]}),Object(a.jsx)(u.a,{position:"top-center",autoClose:3e3})]})};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(f.a,{children:Object(a.jsx)(P,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.d40ff646.chunk.js.map
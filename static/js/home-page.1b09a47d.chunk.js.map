{"version":3,"sources":["pages/HomePage.js","servises/tmdb-api.js","component/Loader/index.js","component/MoviesList/MoviesList.module.css","component/MoviesList/MoviesList.js","pages/HomePage.module.css"],"names":["HomePage","state","movies","isLoaded","error","api","getTrendingMovies","then","data","setState","results","length","Promise","reject","Error","catch","finally","this","className","s","Container","message","Title","Component","axios","defaults","baseURL","params","api_key","language","page","include_adult","a","get","console","log","getSearchMovies","query","getMovieDetails","movieId","getCasts","cast","getReviews","reviews","module","exports","withRouter","location","List","map","movie","Item","Link","to","pathname","id","from","title","name"],"mappings":"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","file":"static/js/home-page.1b09a47d.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport s from './HomePage.module.css';\r\nimport api from '../servises/tmdb-api';\r\nimport LoaderSpinner from '../component/Loader';\r\nimport MoviesList from '../component/MoviesList';\r\n// import axios from 'axios';\r\n// import { Link } from 'react-router-dom';\r\n\r\n\r\nexport default class HomePage extends Component {\r\n  state = {\r\n    movies: [],\r\n    isLoaded: false,\r\n    error: null,\r\n  }\r\n\r\n  componentDidMount() {\r\n     api.getTrendingMovies()\r\n       .then((data) => {\r\n        this.setState({ isLoaded: true })\r\n         \r\n         if (data.movies.results.length === 0) {\r\n           return Promise.reject(new Error('Sorry, unfortunately nothing was found ...'));\r\n         }\r\n         \r\n         this.setState({ movies: data.movies.results })\r\n       })\r\n      .catch(error => this.setState({ error }))\r\n      .finally (this.setState({ isLoaded: false, }))\r\n   \r\n\r\n    // const response = await axios.get(`https://api.themoviedb.org/3/trending/all/day?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc`)\r\n    // console.log(response.data.results);\r\n    \r\n    // this.setState({movies: response.data.results})\r\n  }\r\n  \r\n  render() {\r\n    const { movies, error, isLoaded  } = this.state;\r\n    \r\n    return (\r\n      <div className={s.Container}>\r\n        {error && <h1>{error.message}</h1>}\r\n        {!isLoaded && <LoaderSpinner />}\r\n        {movies.length > 0 && <>\r\n        <h1 className={s.Title}>Trending Today</h1>\r\n        <MoviesList movies={movies}/>\r\n        </>}\r\n        \r\n        {/* <ul>\r\n          {movies.map(movie => (\r\n            <li key={movie.id}>\r\n              <Link to = {`/movies/${movie.id}`}>{movie.title ? movie.title : movie.name}</Link>\r\n            </li>\r\n          ))}\r\n        </ul> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// {this.props.match.url}","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3/';\r\nconst KEY = '8e1b01f3d4ab71ddc5b71444dcf769fc';\r\n// `https://api.themoviedb.org/3/trending/all/day?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc`\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.defaults.params = {\r\n  api_key: KEY,\r\n  language: 'en-US',\r\n  page: 1,\r\n  include_adult: false,\r\n}\r\n\r\nconst getTrendingMovies = async () => {\r\n  try {\r\n    const { data } = await axios.get('trending/all/day')\r\n    // console.log('data', data);\r\n    // test();\r\n    return {\r\n      movies: data,\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    return {\r\n      movies: [],\r\n    }\r\n  }\r\n}\r\n\r\n// `https://api.themoviedb.org/3/search/movie?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc&language=en-US&query=${query}&page=1&include_adult=false`\r\n\r\nconst getSearchMovies = async (query) => {\r\n  try {\r\n    const { data } = await axios.get('search/movie', {\r\n      params: {query}\r\n    })\r\n    console.log('dataS', data);\r\n    // test();\r\n    return {\r\n      movies: data,\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    return {\r\n      movies: [],\r\n      query: '',\r\n    }\r\n  }\r\n}\r\n\r\n// `https://api.themoviedb.org/3/movie/${movieId}?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc&language=en-US`\r\n\r\nconst getMovieDetails = async (movieId) => {\r\n  try {\r\n    const  { data } = await axios.get(`movie/${movieId}`)\r\n    // console.log('dataS', data);\r\n    // test();\r\n    return {\r\n      movies: data,\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    return {\r\n      movies: [],\r\n      // movieId: '',\r\n    }\r\n  }\r\n}\r\n\r\n// `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc&language=en-US`\r\n\r\nconst getCasts = async (movieId) => {\r\n  try {\r\n    const  { data } = await axios.get(`movie/${movieId}/credits`)\r\n    // console.log('dataS', data);\r\n    // test();\r\n    return {\r\n      cast: data,\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    return {\r\n      cast: [],\r\n      // movieId: '',\r\n    }\r\n  }\r\n}\r\n\r\n// `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=8e1b01f3d4ab71ddc5b71444dcf769fc&language=en-US&page=1`\r\n\r\nconst getReviews = async (movieId) => {\r\n  try {\r\n    const  { data } = await axios.get(`movie/${movieId}/reviews`)\r\n    // console.log('dataS', data);\r\n    // test();\r\n    return {\r\n      reviews: data,\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    return {\r\n      reviews: [],\r\n      // movieId: '',\r\n    }\r\n  }\r\n}\r\n\r\nconst api = {\r\n  getTrendingMovies,\r\n  getSearchMovies,\r\n  getMovieDetails,\r\n  getCasts,\r\n  getReviews,\r\n}\r\n\r\nexport default api;","export { default } from './LoaderSpinner';","// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"MoviesList_List__2f7fG\",\"Item\":\"MoviesList_Item__3uZZd\",\"Link\":\"MoviesList_Link__3UTW-\"};","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './MoviesList.module.css';\r\n\r\n\r\nconst MoviesList = ({ movies, location }) => {\r\n  // console.log('match', match.url);\r\n  return (\r\n        <ul className={s.List}>\r\n          {movies.map(movie => (\r\n            <li className={s.Item} key={movie.id}>\r\n              <Link className={s.Link} to={{\r\n                pathname: `/movies/${movie.id}`,\r\n                state: {\r\n                  from: location,\r\n                }\r\n              }}>\r\n                {movie.title ? movie.title : movie.name}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n  );\r\n};\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.arrayOf(\r\n      PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        title: PropTypes.string.isRequired,\r\n      }),\r\n  ).isRequired,\r\n  location: PropTypes.object.isRequired,\r\n};\r\n\r\n// to = {`${match.url}movies/${movie.id}`}\r\nexport default withRouter(MoviesList);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"HomePage_Container__1GeA0\",\"Title\":\"HomePage_Title__17DEr\"};"],"sourceRoot":""}